#!/usr/bin/env bash
# A Bash script that runs an infinite "7-highlander" process or stops it with a "stop" argument
if [ "$1" = "stop" ]; then
  # Stop the process
  PID=$(pgrep -f '7-highlander')
  if [ -n "$PID" ]; then
    kill "$PID"
    echo "Process $PID stopped"
  else
    echo "Process not found"
  fi
else
  # Run the process
  trap 'echo "I am invincible!!!"; exit' SIGTERM
  echo "Running 7-highlander..."
  while true; do
    echo "To infinity and beyond"
    sleep 1 & wait $!
  done
fi
